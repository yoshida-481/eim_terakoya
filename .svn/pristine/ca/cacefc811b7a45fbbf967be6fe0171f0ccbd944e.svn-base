<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
		xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
		xmlns:aop="http://www.springframework.org/schema/aop"
		xsi:schemaLocation="
			http://www.springframework.org/schema/beans
			http://www.springframework.org/schema/beans/spring-beans.xsd
			http://www.springframework.org/schema/aop
			http://www.springframework.org/schema/aop/spring-aop.xsd">

	<!-- ==================================== -->

	<!-- オブジェクトイベントアスペクトの定義 -->

	<!-- ==================================== -->

	<bean id="createObjectEventAspect" class="jp.co.ctc_g.eim.framework2.business.aop.aspect.ObjectEventAspect">
		<property name="eventHandlerList">
			<list>
			</list>
		</property>
	</bean>

	<bean id="getObjectEventAspect" class="jp.co.ctc_g.eim.framework2.business.aop.aspect.ObjectEventAspect">
		<property name="eventHandlerList">
			<list>
			</list>
		</property>
	</bean>

	<bean id="updateObjectEventAspect" class="jp.co.ctc_g.eim.framework2.business.aop.aspect.ObjectEventAspect">
		<property name="eventHandlerList">
			<list>
			</list>
		</property>
	</bean>

	<bean id="deleteObjectEventAspect" class="jp.co.ctc_g.eim.framework2.business.aop.aspect.ObjectEventAspect">
		<property name="eventHandlerList">
			<list>
			</list>
		</property>
	</bean>


	<!-- ==================================== -->

	<!-- リレーションイベントアスペクトの定義 -->

	<!-- ==================================== -->

	<bean id="createRelationEventAspect" class="jp.co.ctc_g.eim.framework2.business.aop.aspect.RelationEventAspect">
		<property name="eventHandlerList">
			<list>
			</list>
		</property>
	</bean>

	<bean id="getRelationEventAspect" class="jp.co.ctc_g.eim.framework2.business.aop.aspect.RelationEventAspect">
		<property name="eventHandlerList">
			<list>
			</list>
		</property>
	</bean>

	<bean id="updateRelationEventAspect" class="jp.co.ctc_g.eim.framework2.business.aop.aspect.RelationEventAspect">
		<property name="eventHandlerList">
			<list>
			</list>
		</property>
	</bean>

	<bean id="deleteRelationEventAspect" class="jp.co.ctc_g.eim.framework2.business.aop.aspect.RelationEventAspect">
		<property name="eventHandlerList">
			<list>
			</list>
		</property>
	</bean>

	<!-- ==================================== -->

	<!-- オブジェクトイベントのポイントカット -->

	<!-- ==================================== -->
	<!-- ============ -->
	<!-- Before Event -->
	<!-- ============ -->

	<!-- Befor Event 登録系 -->
	<aop:config>
		<aop:aspect ref="createObjectEventAspect">
			<aop:before
				method="handleBeforeEventByObject"
				pointcut="execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.create(*,*)) and args(object,*) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.create(*)) and args(object) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.copy(*, *)) and args(object,*) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.revisionUp(*)) and args(object)"
				arg-names="object"
			/>
		</aop:aspect>
	</aop:config>
	<aop:config>
		<aop:aspect ref="createObjectEventAspect">
			<aop:before
				method="handleBeforeEventByObjectList"
				pointcut="execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.createList(*)) and args(object)"
				arg-names="object"
			/>
		</aop:aspect>
	</aop:config>


	<!-- Befor Event 取得系 -->
	<aop:config>
		<aop:aspect ref="getObjectEventAspect">
			<aop:before
				method="handleBeforeEventByNoParam"
				pointcut="(
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.getById(..)) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.getByIdForUpdate(..)) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.getByTypeAndName(..)) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.getByTypeAndNameForUpdate(..)) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.getList(..))
						) and !bean(*SuppressGetObjectEventAspect) or
						(
							execution(* jp.co.ctc_g.eim.framework2.business.service.RelationService.getById(..)) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.RelationService.getByTypeAndParentAndChild(..)) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.RelationService.getList(..))
						) and !bean(*SuppressGetRelationEventAspect)"
			/>
		</aop:aspect>
	</aop:config>

	<!-- Befor Event 更新系 -->
	<aop:config>
		<aop:aspect ref="updateObjectEventAspect">
			<aop:before
				method="handleBeforeEventByObject"
				pointcut="execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.update(*,*)) and args(object,*) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.updateName(*,*,*)) and args(object,*,*) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.update(*)) and args(object) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.updateName(*,*)) and args(object,*) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.update(*,*,*,*)) and args(object,*,*,*) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.updateName(*,*,*,*,*)) and args(object,*,*,*,*) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.update(*,*,*)) and args(object,*,*) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.updateName(*,*,*,*)) and args(object,*,*,*) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.setSecurity(*, *)) and args(object, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.removeSecurity(*)) and args(object) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.copyAttribute(*, *)) and args(object, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.setAttributeSingleLong(*, *, *)) and args(object, *, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.setAttributeMultipleLong(*, *, *)) and args(object, *, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.setAttributeSingleString(*, *, *)) and args(object, *, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.setAttributeMultipleString(*, *, *)) and args(object, *, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.setAttributeSingleDate(*, *, *)) and args(object, *, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.setAttributeMultipleDate(*, *, *)) and args(object, *, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.setAttributeSingleDouble(*, *, *)) and args(object, *, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.setAttributeMultipleDouble(*, *, *)) and args(object, *, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.setAttributeSingleText(*, *, *)) and args(object, *, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.setAttributeMultipleText(*, *, *)) and args(object, *, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.setAttributeSingleObject(*, *, *)) and args(object, *, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.setAttributeMultipleObject(*, *, *)) and args(object, *, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.setAttributeSingleUser(*, *, *)) and args(object, *, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.setAttributeMultipleUser(*, *, *)) and args(object, *, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.setAttributeSingleCode(*, *, *)) and args(object, *, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.setAttributeMultipleCode(*, *, *)) and args(object, *, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.removeAttribute(*, *)) and args(object, *)"
				arg-names="object"
			/>
		</aop:aspect>
	</aop:config>

	<!-- Befor Event 削除系 -->
	<aop:config>
		<aop:aspect ref="deleteObjectEventAspect">
			<aop:before
				method="handleBeforeEventByObject"
				pointcut="execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.delete(*)) and args(object)"
				arg-names="object"
			/>
		</aop:aspect>
	</aop:config>

	<!-- =========== -->
	<!-- After Event -->
	<!-- =========== -->

	<!-- After Event 登録系 -->
	<aop:config>
		<aop:aspect ref="createObjectEventAspect">
			<aop:after-returning
				method="handleAfterEventByObjectAndObjectBeforeProcess"
				pointcut="execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.create(..)) and args(argObject, ..) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.create(..)) and args(argObject) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.copy(..)) and args(argObject) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.revisionUp(..)) and args(argObject)"
				returning="object" arg-names="object,argObject"
			/>
		</aop:aspect>
	</aop:config>
	<aop:config>
		<aop:aspect ref="createObjectEventAspect">
			<aop:after-returning
				method="handleAfterEventByObjectListAndObjectBeforeProcessList"
				pointcut="execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.createList(..)) and args(argObjectList)"
				returning="objectList" arg-names="objectList,argObjectList"
			/>
		</aop:aspect>
	</aop:config>

	<!-- After Event 取得系 -->
	<aop:config>
		<aop:aspect ref="getObjectEventAspect">
			<aop:after-returning
				method="handleAfterEventByObject"
				pointcut="(
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.getById(..)) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.getByIdForUpdate(..)) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.getByTypeAndName(..)) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.getByTypeAndNameForUpdate(..))
						) and !bean(*SuppressGetObjectEventAspect)"
				returning="object"
			/>
		</aop:aspect>
	</aop:config>
	<aop:config>
		<aop:aspect ref="getObjectEventAspect">
			<aop:after-returning
				method="handleAfterEventByObjectList"
				pointcut="(
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.getList(..))
						) and !bean(*SuppressGetObjectEventAspect)"
				returning="objectList"
			/>
		</aop:aspect>
	</aop:config>
	<aop:config>
		<aop:aspect ref="getObjectEventAspect">
			<aop:after-returning
				method="handleAfterEventByRelation"
				pointcut="(
							execution(* jp.co.ctc_g.eim.framework2.business.service.RelationService.getById(..)) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.RelationService.getByTypeAndParentAndChild(..))
						) and !bean(*SuppressGetRelationEventAspect)"
				returning="relation"
			/>
		</aop:aspect>
	</aop:config>
	<aop:config>
		<aop:aspect ref="getObjectEventAspect">
			<aop:after-returning
				method="handleAfterEventByRelationList"
				pointcut="(
							execution(* jp.co.ctc_g.eim.framework2.business.service.RelationService.getList(..))
						) and !bean(*SuppressGetRelationEventAspect)"
				returning="relationList"
			/>
		</aop:aspect>
	</aop:config>


	<!-- After Event 更新系 -->
	<aop:config>
		<aop:aspect ref="updateObjectEventAspect">
			<aop:after-returning
				method="handleAfterEventByObjectBeforeProcess"
				pointcut="execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.update(*,*)) and args(object,*) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.updateName(*,*,*)) and args(object,*,*) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.update(*)) and args(object) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.updateName(*,*)) and args(object,*) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.update(*,*,*,*)) and args(object,*,*,*) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.updateName(*,*,*,*,*)) and args(object,*,*,*,*) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.update(*,*,*)) and args(object,*,*) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.updateName(*,*,*,*)) and args(object,*,*,*) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.setSecurity(*, *)) and args(object, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.removeSecurity(*)) and args(object) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.copyAttribute(*, *)) and args(object, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.setAttributeSingleLong(*, *, *)) and args(object, *, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.setAttributeMultipleLong(*, *, *)) and args(object, *, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.setAttributeSingleString(*, *, *)) and args(object, *, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.setAttributeMultipleString(*, *, *)) and args(object, *, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.setAttributeSingleDate(*, *, *)) and args(object, *, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.setAttributeMultipleDate(*, *, *)) and args(object, *, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.setAttributeSingleDouble(*, *, *)) and args(object, *, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.setAttributeMultipleDouble(*, *, *)) and args(object, *, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.setAttributeSingleText(*, *, *)) and args(object, *, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.setAttributeMultipleText(*, *, *)) and args(object, *, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.setAttributeSingleObject(*, *, *)) and args(object, *, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.setAttributeMultipleObject(*, *, *)) and args(object, *, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.setAttributeSingleUser(*, *, *)) and args(object, *, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.setAttributeMultipleUser(*, *, *)) and args(object, *, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.setAttributeSingleCode(*, *, *)) and args(object, *, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.setAttributeMultipleCode(*, *, *)) and args(object, *, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.removeAttribute(*, *)) and args(object, *)"
				arg-names="object"
			/>
		</aop:aspect>
	</aop:config>

	<!-- After Event 削除系 -->
	<aop:config>
		<aop:aspect ref="deleteObjectEventAspect">
			<aop:after-returning
				method="handleAfterEventByObjectBeforeProcess"
				pointcut="execution(* jp.co.ctc_g.eim.framework2.business.service.ObjectService.delete(*)) and args(object)"
				arg-names="object"
			/>
		</aop:aspect>
	</aop:config>

	<!-- ==================================== -->

	<!-- リレーションイベントのポイントカット -->

	<!-- ==================================== -->

	<!-- ============ -->
	<!-- Before Event -->
	<!-- ============ -->

	<!-- Befor Event 登録系 -->
	<aop:config>
		<aop:aspect ref="createRelationEventAspect">
			<aop:before
				method="handleBeforeEventByRelation"
				pointcut="execution(* jp.co.ctc_g.eim.framework2.business.service.RelationService.create(*,*)) and args(relation,*) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.RelationService.create(*)) and args(relation)"
				arg-names="relation"
			/>
		</aop:aspect>
	</aop:config>

	<!-- Befor Event 取得系 -->
	<aop:config>
		<aop:aspect ref="getRelationEventAspect">
			<aop:before
				method="handleBeforeEventByNoParam"
				pointcut="(
							execution(* jp.co.ctc_g.eim.framework2.business.service.RelationService.getById(..)) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.RelationService.getByTypeAndParentAndChild(..)) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.RelationService.getList(..))
						) and !bean(*SuppressGetRelationEventAspect)"
			/>
		</aop:aspect>
	</aop:config>


	<!-- Befor Event 更新系 -->
	<aop:config>
		<aop:aspect ref="updateRelationEventAspect">
			<aop:before
				method="handleBeforeEventByRelation"
				pointcut="execution(* jp.co.ctc_g.eim.framework2.business.service.RelationService.update(*, *)) and args(relation, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.RelationService.update(*)) and args(relation) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.RelationService.setChild(*, *, *)) and args(relation, *, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.RelationService.setChild(*, *)) and args(relation, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.RelationService.setParent(*, *, *)) and args(relation, *, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.RelationService.setParent(*, *)) and args(relation, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.RelationService.copyAttribute(*, *)) and args(relation, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.RelationService.setAttributeSingleLong(*, *, *)) and args(relation, *, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.RelationService.setAttributeMultipleLong(*, *, *)) and args(relation, *, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.RelationService.setAttributeSingleDouble(*, *, *)) and args(relation, *, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.RelationService.setAttributeMultipleDouble(*, *, *)) and args(relation, *, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.RelationService.setAttributeSingleDate(*, *, *)) and args(relation, *, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.RelationService.setAttributeMultipleDate(*, *, *)) and args(relation, *, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.RelationService.setAttributeSingleString(*, *, *)) and args(relation, *, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.RelationService.setAttributeMultipleString(*, *, *)) and args(relation, *, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.RelationService.setAttributeSingleText(*, *, *)) and args(relation, *, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.RelationService.setAttributeMultipleText(*, *, *)) and args(relation, *, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.RelationService.removeAttribute(*, *)) and args(relation, *)"
				arg-names="relation"
			/>
		</aop:aspect>
	</aop:config>

	<!-- Befor Event 削除系 -->
	<aop:config>
		<aop:aspect ref="deleteRelationEventAspect">
			<aop:before
				method="handleBeforeEventByRelation"
				pointcut="execution(* jp.co.ctc_g.eim.framework2.business.service.RelationService.delete(*)) and args(relation)"
				arg-names="relation"
			/>
		</aop:aspect>
	</aop:config>

	<!-- =========== -->
	<!-- After Event -->
	<!-- =========== -->

	<!-- After Event 登録系 -->
	<aop:config>
		<aop:aspect ref="createRelationEventAspect">
			<aop:after-returning
				method="handleAfterEventByRelationAndRelationBeforeProcess"
				pointcut="execution(* jp.co.ctc_g.eim.framework2.business.service.RelationService.create(..)) and args(argRelation) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.RelationService.create(..)) and args(argRelation, *)"
				returning="relation" arg-names="relation,argRelation"
			/>
		</aop:aspect>
	</aop:config>

	<!-- After Event 取得系 -->
	<aop:config>
		<aop:aspect ref="getRelationEventAspect">
			<aop:after-returning
				method="handleAfterEventByRelation"
				pointcut="(
							execution(* jp.co.ctc_g.eim.framework2.business.service.RelationService.getById(..)) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.RelationService.getByTypeAndParentAndChild(..))
						) and !bean(*SuppressGetRelationEventAspect)"
				returning="relation"
			/>
		</aop:aspect>
	</aop:config>
	<aop:config>
		<aop:aspect ref="getRelationEventAspect">
			<aop:after-returning
				method="handleAfterEventByRelationList"
				pointcut="(
							execution(* jp.co.ctc_g.eim.framework2.business.service.RelationService.getList(..))
						) and !bean(*SuppressGetRelationEventAspect)"
				returning="relationList"
			/>
		</aop:aspect>
	</aop:config>

	<!-- After Event 更新系 -->
	<aop:config>
		<aop:aspect ref="updateRelationEventAspect">
			<aop:after-returning
				method="handleAfterEventByRelationBeforeProcess"
				pointcut="execution(* jp.co.ctc_g.eim.framework2.business.service.RelationService.update(*, *)) and args(relation, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.RelationService.update(*)) and args(relation) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.RelationService.setChild(*, *, *)) and args(relation, *, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.RelationService.setChild(*, *)) and args(relation, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.RelationService.setParent(*, *, *)) and args(relation, *, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.RelationService.setParent(*, *)) and args(relation, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.RelationService.copyAttribute(*, *)) and args(relation, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.RelationService.setAttributeSingleLong(*, *, *)) and args(relation, *, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.RelationService.setAttributeMultipleLong(*, *, *)) and args(relation, *, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.RelationService.setAttributeSingleDouble(*, *, *)) and args(relation, *, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.RelationService.setAttributeMultipleDouble(*, *, *)) and args(relation, *, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.RelationService.setAttributeSingleDate(*, *, *)) and args(relation, *, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.RelationService.setAttributeMultipleDate(*, *, *)) and args(relation, *, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.RelationService.setAttributeSingleString(*, *, *)) and args(relation, *, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.RelationService.setAttributeMultipleString(*, *, *)) and args(relation, *, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.RelationService.setAttributeSingleText(*, *, *)) and args(relation, *, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.RelationService.setAttributeMultipleText(*, *, *)) and args(relation, *, *) or
							execution(* jp.co.ctc_g.eim.framework2.business.service.RelationService.removeAttribute(*, *)) and args(relation, *)"
				arg-names="relation"
			/>
		</aop:aspect>
	</aop:config>

	<!-- After Event 削除系 -->
	<aop:config>
		<aop:aspect ref="deleteRelationEventAspect">
			<aop:before
				method="handleAfterEventByRelationBeforeProcess"
				pointcut="execution(* jp.co.ctc_g.eim.framework2.business.service.RelationService.delete(*)) and args(relation)"
				arg-names="relation"
			/>
		</aop:aspect>
	</aop:config>


	<!-- ====================== -->

	<!-- イベントハンドラの定義 -->

	<!-- ====================== -->

	<!-- オブジェクトイベントハンドラの定義 -->
	<bean id="objectEventHandler2" class="jp.co.ctc_g.eim.framework2.business.aop.event_handler.impl.ObjectEventHandler">
		<property name="objectTypeService">
			<ref bean="objectTypeService2"/>
		</property>
	</bean>

	<!-- リレーションイベントハンドラの定義 -->
	<bean id="relationEventHandler2" class="jp.co.ctc_g.eim.framework2.business.aop.event_handler.impl.RelationEventHandler">
	</bean>

	<!-- ======================== -->

	<!-- イベントプラグインの定義 -->

	<!-- ======================== -->

	<!-- ==================================================== -->

	<!-- 検証プラグイン                                       -->

	<!-- ==================================================== -->

	<!-- Before Event -->

	<!-- オブジェクトの名称が同じ親を持つオブジェクトと重複しないことを検証するプラグイン -->
	<bean abstract="true" id="abstractValidatingNameNotExistSameParentObjectBeforeEventPlugIn"
			class="jp.co.ctc_g.eim.framework2.business.aop.plugin.impl.ValidatingNameNotExistSameParentObjectBeforeEventPlugInImpl">
	</bean>

	<!-- オブジェクトの名称が同じオブジェクトタイプのオブジェクトと重複しないことを検証するプラグイン -->
	<bean abstract="true" id="abstractValidatingNameNotExistSameObjectTypeObjectBeforeEventPlugIn"
			class="jp.co.ctc_g.eim.framework2.business.aop.plugin.impl.ValidatingNameNotExistSameObjectTypeObjectBeforeEventPlugInImpl">
	</bean>

	<!-- ==================================================== -->

	<!-- ドメイン設定プラグイン                               -->

	<!-- ==================================================== -->

	<!-- Before Event -->

	<!-- オブジェクトの項目、属性をDBから取得しオブジェクト情報に設定するプラグイン -->
	<bean abstract="true" id="abstractSettingItemListAndAttributeListObjectBeforeEventPlugIn"
			class="jp.co.ctc_g.eim.framework2.business.aop.plugin.impl.SettingItemListAndAttributeListObjectBeforeEventPlugInImpl">
		<property name="objectService">
			<ref bean="objectService2ForAPISuppressGetObjectEventAspect"/>
		</property>
	</bean>

	<!-- オブジェクト型属性のオブジェクトを複製して属性値に設定するプラグイン -->
	<bean abstract="true" id="abstractSettingDuplicatedObjectRefAttributeObjectBeforeEventPlugIn"
			class="jp.co.ctc_g.eim.framework2.business.aop.plugin.impl.SettingDuplicatedObjectRefAttributeObjectBeforeEventPlugInImpl">
		<property name="objectService">
			<ref bean="objectService2"/>
		</property>
		<property name="fileAccessService">
			<ref bean="fileAccessService2"/>
		</property>
	</bean>

	<!-- オブジェクト情報から複製対象外の属性値を除外するプラグイン -->
	<bean abstract="true" id="abstractSettingExcludedAttributeObjectBeforeEventPlugIn"
			class="jp.co.ctc_g.eim.framework2.business.aop.plugin.impl.SettingExcludedAttributeObjectBeforeEventPlugInImpl">
	</bean>

	<!-- リレーション情報から複製対象外の属性値を除外するプラグイン -->
	<bean abstract="true" id="abstractSettingExcludedAttributeRelationBeforeEventPlugIn"
			class="jp.co.ctc_g.eim.framework2.business.aop.plugin.impl.SettingExcludedAttributeRelationBeforeEventPlugInImpl">
	</bean>

	<!-- 削除対象のメンバーズIDをパラメータに設定するプラグイン -->
	<bean id="settingMembersIDForDeleteObjectBeforeEventPlugIn"
			class="jp.co.ctc_g.eim.framework2.business.aop.plugin.impl.SettingMembersIDForDeleteObjectBeforeEventPlugInImpl">
		<property name="membersService">
			<ref bean="membersServiceLight2"/>
		</property>
	</bean>

	<!-- セキュリティを設定する事前処理プラグイン -->
	<bean abstract="true" id="abstractSettingSecurityObjectBeforeEventPlugIn"
			class="jp.co.ctc_g.eim.framework2.business.aop.plugin.impl.SettingSecurityObjectBeforeEventPlugInImpl">
		<property name="securityService">
			<ref bean="securityServiceLight2"/>
		</property>
	</bean>

	<!-- After Event -->

	<!-- 結果ドメインにオブジェクトタイプレイアウト情報を設定する事後処理プラグイン -->
	<bean id="settingObjectTypeLayoutObjectAfterEventPlugIn"
			class="jp.co.ctc_g.eim.framework2.business.aop.plugin.impl.SettingObjectTypeLayoutObjectAfterEventPlugInImpl">
		<property name="objectService">
			<ref bean="objectService2ForAPI"/>
		</property>
		<property name="objectTypeService">
			<ref bean="objectTypeService2"/>
		</property>
	</bean>

	<!-- 結果ドメインに属性タイプレイアウトを設定する事後処理プラグイン -->
	<bean id="settingAttributeTypeLayoutObjectAfterEventPlugIn"
			class="jp.co.ctc_g.eim.framework2.business.aop.plugin.impl.SettingAttributeTypeLayoutObjectAfterEventPlugInImpl">
		<property name="objectService">
			<ref bean="objectService2ForAPI"/>
		</property>
		<property name="objectTypeService">
			<ref bean="objectTypeServiceWithOnlyAttributeTypeList2"/>
		</property>
		<property name="attributeTypeService">
			<ref bean="attributeTypeService2"/>
		</property>
	</bean>

	<!-- 結果ドメインのDTOに基底オブジェクトタイプ定義名称を設定する事後処理プラグイン -->
	<bean abstract="true" id="abstractSettingBaseObjectTypeDefNameObjectAfterEventPlugIn"
			class="jp.co.ctc_g.eim.framework2.business.aop.plugin.impl.SettingBaseObjectTypeDefNameObjectAfterEventPlugInImpl">
		<property name="objectTypeService">
			<ref bean="objectTypeService2"/>
		</property>
	</bean>

	<!-- 結果ドメインのDTOに指定されたオブジェクトのアクセス権限を設定する事後処理プラグイン -->
	<bean id="settingAccessRoleTypeNameMapObjectAfterEventPlugIn"
			class="jp.co.ctc_g.eim.framework2.business.aop.plugin.impl.SettingAccessRoleTypeNameMapObjectAfterEventPlugInImpl">
		<property name="objectService">
			<ref bean="objectService2"/>
		</property>
	</bean>

	<!-- 結果ドメインのDTOにリレーションタイプ定義名称を設定する事後処理プラグイン -->
	<bean id="settingRelationTypeRelationAfterEventPlugIn"
			class="jp.co.ctc_g.eim.framework2.business.aop.plugin.impl.SettingRelationTypeRelationAfterEventPlugInImpl"/>

	<!-- ==================================================== -->

	<!-- DB操作プラグイン                                     -->

	<!-- ==================================================== -->

	<!-- ==================================================== -->
	<!-- オブジェクト操作プラグイン                           -->
	<!-- ==================================================== -->

	<!-- Before Event -->

	<!-- After Event -->

	<!-- ==================================================== -->
	<!-- 関連オブジェクト操作プラグイン                       -->
	<!-- ==================================================== -->

	<!-- Before Event -->

	<!-- 親オブジェクトとのリレーションを削除するプラグイン -->
	<bean abstract="true" id="abstractParentRelationDeleterObjectBeforeEventPlugIn"
			class="jp.co.ctc_g.eim.framework2.business.aop.plugin.impl.ParentRelationDeleterObjectBeforeEventPlugInImpl">
		<property name="relationService">
			<ref bean="relationService2"/>
		</property>
	</bean>

	<!-- リレーションの子孫オブジェクトを削除するプラグイン -->
	<bean abstract="true" id="abstractChildrenDeleterObjectBeforeEventPlugIn"
			class="jp.co.ctc_g.eim.framework2.business.aop.plugin.impl.ChildrenDeleterObjectBeforeEventPlugInImpl">
		<property name="relationTypeService">
			<ref bean="relationTypeServiceLight2"/>
		</property>
		<property name="relationService">
			<ref bean="relationService2"/>
		</property>
		<property name="objectService">
			<ref bean="objectService2"/>
		</property>
	</bean>

	<!-- オブジェクト型属性に設定されているオブジェクトを削除するプラグイン -->
	<bean abstract="true" id="abstractObjectRefAttributeDeleterObjectBeforeEventPlugIn"
			class="jp.co.ctc_g.eim.framework2.business.aop.plugin.impl.ObjectRefAttributeDeleterObjectBeforeEventPlugInImpl">
		<property name="objectTypeService">
			<ref bean="objectTypeService2WithoutItems"/>
		</property>
		<property name="objectService">
			<ref bean="objectService2"/>
		</property>
	</bean>

	<!-- After Event -->

	<!-- 親オブジェクトとのリレーションを登録するプラグイン -->
	<bean abstract="true" id="abstractParentRelationCreatorObjectAfterEventPlugIn"
			class="jp.co.ctc_g.eim.framework2.business.aop.plugin.impl.ParentRelationCreatorObjectAfterEventPlugInImpl">
		<property name="relationService">
			<ref bean="relationService2"/>
		</property>
	</bean>

	<!-- リレーションの子階層を複製するプラグイン -->
	<bean abstract="true" id="abstractChildrenDuplicatorObjectAfterEventPlugIn"
			class="jp.co.ctc_g.eim.framework2.business.aop.plugin.impl.ChildrenDuplicatorObjectAfterEventPlugInImpl">
		<property name="objectService">
			<ref bean="objectService2ForAPISuppressGetObjectEventAspect"/>
		</property>
		<property name="relationService">
			<ref bean="relationService2"/>
		</property>
		<property name="simpleSearchObjectService">
			<ref bean="simpleSearchObjectService2"/>
		</property>
	</bean>

	<!-- ==================================================== -->
	<!-- メンバーズ操作プラグイン                             -->
	<!-- ==================================================== -->

	<!-- After Event -->

	<!-- 登録したメンバーズにてシリーズを更新するプラグイン -->
	<bean abstract="true" id="abstractSeriesUpdatorByCreatedMembersObjectAfterEventPlugIn"
			class="jp.co.ctc_g.eim.framework2.business.aop.plugin.impl.SeriesUpdatorByCreatedMembersObjectAfterEventPlugInImpl">
		<property name="membersService">
			<ref bean="membersServiceLight2"/>
		</property>
		<property name="seriesService">
			<ref bean="seriesService2"/>
		</property>
	</bean>

	<!-- メンバーズを削除するプラグイン -->
	<bean id="membersDeleterObjectAfterEventPlugIn"
			class="jp.co.ctc_g.eim.framework2.business.aop.plugin.impl.MembersDeleterObjectAfterEventPlugInImpl">
		<property name="membersService">
			<ref bean="membersServiceLight2"/>
		</property>
	</bean>

	<!-- ==================================================== -->
	<!-- シリーズ操作プラグイン                             -->
	<!-- ==================================================== -->

	<!-- After Event -->

	<!-- 親オブジェクトのメンバーズを取得し該当オブジェクトのシリーズを更新するプラグイン -->
	<bean id="seriesUpdatorByParentMembersRelationAfterEventPlugIn"
			class="jp.co.ctc_g.eim.framework2.business.aop.plugin.impl.SeriesUpdatorByParentMembersRelationAfterEventPlugInImpl">
		<property name="objectService">
			<ref bean="objectService2ForAPI"/>
		</property>
		<property name="seriesService">
			<ref bean="seriesService2"/>
		</property>
	</bean>

	<!-- ==================================================== -->
	<!-- ファイル操作プラグイン                             -->
	<!-- ==================================================== -->

	<!-- After Event -->

	<!-- ファイルを複製するプラグイン -->
	<bean abstract="true" id="abstractFileDuplicatorObjectAfterEventPlugIn"
			class="jp.co.ctc_g.eim.framework2.business.aop.plugin.impl.FileDuplicatorObjectAfterEventPlugInImpl">
		<property name="fileAccessor">
			<ref bean="fileAccessor2"/>
		</property>
		<property name="fileDao">
			<ref bean="fileDao2"/>
		</property>
	</bean>
</beans>
