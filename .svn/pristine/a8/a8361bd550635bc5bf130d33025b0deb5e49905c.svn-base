<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
		xsi:schemaLocation="
			http://www.springframework.org/schema/beans
			http://www.springframework.org/schema/beans/spring-beans.xsd">

	<!-- ======================================================================================== -->
	<!-- サービス -->
	<!-- ======================================================================================== -->

	<!-- 認証サービス -->
	<bean id="authenticateService" class="jp.co.ctc_g.eim.app.form.business.service.impl.AuthenticateServiceImpl" >
		<property name="languageService" ref="languageService2"/>
		<property name="userService" ref="userService2"/>
		<property name="operationHistoryService" ref="operationHistoryService2"/>
	</bean>

	<!-- 帳票ワークスペースサービス -->
	<bean id="formWorkspaceService" class="jp.co.ctc_g.eim.app.form.business.service.impl.FormWorkspaceServiceImpl" >
		<property name="objectService" ref="formWorkspaceObjectService2"/>
		<property name="objectTypeService" ref="objectTypeService2"/>
		<property name="formTypeService" ref="formTypeService"/>
		<property name="formTypeFolderService" ref="formTypeFolderService"/>
		<property name="assignmentService" ref="formAssignmentService2"/>
		<property name="attributeTypeService" ref="attributeTypeService2"/>
		<property name="securityService" ref="securityService2"/>
		<property name="languageService" ref="languageService2"/>
		<property name="checkAccessRoleTypeForGetList" value="READ"/>
		<property name="itemListForSingleTargetMethod">
			<list/>
		</property>
		<property name="itemListForMultiTargetMethod">
			<list>
				<value>FORM_TYPE_LIST</value>
			</list>
		</property>
		<property name="accessRoleTypeListForGetProcessingList">
			<list>
				<value>READ</value>
			</list>
		</property>
	</bean>

	<!-- 帳票タイプサービス -->
	<bean id="formTypeService" class="jp.co.ctc_g.eim.app.form.business.service.impl.FormTypeServiceImpl" >
		<property name="objectTypeService" ref="formObjectTypeService2"/>
		<property name="formLayoutService" ref="formLayoutService"/>
		<property name="formTypeFolderService" ref="formTypeFolderService"/>
	</bean>

	<!-- 帳票サービス -->
	<bean id="formService" class="jp.co.ctc_g.eim.app.form.business.service.impl.FormServiceImpl" >
		<property name="objectService" 					ref="formObjectService2ForAttributeAll"/>
		<property name="objectServiceForAttributeAll"	ref="formObjectService2ForAttributeAll"/>
		<property name="objectTypeService" 		ref="formObjectTypeService2"/>
		<property name="attributeTypeService" 	ref="attributeTypeService2"/>
		<property name="statusService" 			ref="formStatusService2"/>
		<property name="eventExecService" 		ref="formEventExecService2"/>
		<property name="eventService" 			ref="eventService2"/>
		<property name="formLayoutService" 		ref="formLayoutService"/>
		<property name="statusTypeLayoutService" ref="statusTypeLayoutService"/>
		<property name="codeService" 			ref="codeService2"/>
		<property name="workflowService" 		ref="workflowService2"/>
		<property name="formTempFileObjectService"	ref="formTempFileObjectService2"/>
		<property name="fileDao"				ref="fileDao2"/>
		<property name="fileAccessService" 		ref="fileAccessService2"/>
		<property name="formatService" 			ref="formatService2"/>
		<property name="assignmentService" 		ref="assignmentService2"/>
		<property name="formAssignmentService" 	ref="formAssignmentService2"/>
		<property name="assignmentPlanService" 	ref="assignmentPlanService2"/>
		<property name="userService" 			ref="userService2"/>
		<property name="fileObjectCreatorService" 	ref="fileObjectCreatorService"/>
		<property name="formListColumnService"	ref="formListColumnService"/>
		<property name="searchMasterDisplayConfigService"    ref="searchMasterDisplayConfigService"/>
		<property name="formEventService"       ref="formEventService"/>
		<property name="formDao" ref="formDao"/>
		<property name="attributeTypeLayoutConfDao" ref="attributeTypeLayoutConfDao"/>
		<property name="accessRoleTypeListForGetById">
			<list>
				<value>UPDATE</value>
				<value>APPROVE</value>
			</list>
		</property>
	</bean>

	<!-- 帳票レイアウトサービス -->
	<bean id="formLayoutService" class="jp.co.ctc_g.eim.app.form.business.service.impl.FormLayoutServiceImpl" >
		<property name="objectTypeLayoutService" ref="objectTypeLayoutService"/>
		<property name="statusTypeLayoutService" ref="statusTypeLayoutService"/>
	</bean>

	<!-- 帳票イベントサービス -->
	<bean id="formEventService" class="jp.co.ctc_g.eim.app.form.business.service.impl.FormEventServiceImpl" >
		<property name="eventService" ref="formEventService2"/>
		<property name="objectService" ref="objectService2"/>
		<property name="assignmentEntryUserService" 	ref="assignmentEntryUserService"/>
		<property name="assignmentService" 	ref="assignmentService2"/>
		<property name="formWorkspaceEntryUserService"	ref="formWorkspaceEntryUserService"/>
	</bean>

	<!-- 帳票イベントタイプサービス -->
	<bean id="formEventTypeService" class="jp.co.ctc_g.eim.app.form.business.service.impl.FormEventTypeServiceImpl" >
		<property name="eventTypeService" ref="eventTypeService2"/>
		<property name="assignmentPlanService" ref="assignmentPlanService2"/>
		<property name="objectService" ref="objectService2"/>
		<property name="eventService" ref="eventService2"/>
	</bean>

	<!-- エントリーユーザサービス -->
	<bean id="abstractEntryUserService" class="jp.co.ctc_g.eim.app.form.business.service.impl.AbstractEntryUserServiceImpl" abstract="true" >
		<property name="objectService" ref="objectService2"/>
		<property name="userDefinitionGroupService" ref="userDefinitionGroupService2"/>
		<property name="systemFunctionService" ref="systemFunctionService2"/>
		<property name="memberEntryService" ref="formMemberEntryService2"/>
	</bean>

	<!-- アサイン先エントリーユーザサービス -->
	<bean id="assignmentEntryUserService" class="jp.co.ctc_g.eim.app.form.business.service.impl.AssignmentEntryUserServiceImpl" parent="abstractEntryUserService" >
		<property name="assignmentEntryService" ref="formAssignmentEntryService2"/>
		<property name="assignmentUserService" ref="formAssignmentUserService2"/>
		<property name="assignmentPlanService" ref="assignmentPlanService2"/>
	</bean>

	<!-- 帳票ワークスペースエントリーユーザサービス -->
	<bean id="formWorkspaceEntryUserService" class="jp.co.ctc_g.eim.app.form.business.service.impl.FormWorkspaceEntryUserServiceImpl" parent="abstractEntryUserService" >
		<property name="accessEntryService" ref="formAccessEntryService2"/>
	</bean>

	<!-- テンプレートファイルサービス -->
	<bean id="templateFileService" class="jp.co.ctc_g.eim.app.form.business.service.impl.TemplateFileServiceImpl">
		<property name="templateFileDao" ref="templateFileDao"/>
	</bean>

	<!-- WebDAV通信用ファイルサービス -->
	<bean id="fileObjectCreatorService" class="jp.co.ctc_g.eim.app.form.business.service.impl.FileObjectCreatorServiceImpl">
		<property name="objectService" ref="objectService2"/>
		<property name="objectTypeService" ref="formObjectTypeService2"/>
		<property name="tempFileObjectService" ref="tempFileObjectService2"/>
		<property name="fileAccessService" ref="fileAccessService2"/>
		<property name="formatService" ref="formatService2"/>
	</bean>

	<!-- オブジェクトマスタサービス -->
	<bean id="objectMasterService" class="jp.co.ctc_g.eim.app.form.business.service.impl.ObjectMasterServiceImpl" >
		<property name="objectService" ref="objectService2"/>
	</bean>

	<!-- オブジェクトマスタ表示条件取得サービス -->
	<bean id="searchMasterDisplayConfigService" class="jp.co.ctc_g.eim.app.form.business.service.impl.SearchMasterDisplayConfigServiceImpl">
		<!-- オブジェクトマスタ表示設定一覧 -->
		<!-- TODO 以下、サンプル。実際の属性に合わせて定義する必要がある。 -->
		<property name="displayConfigDomainList">
			<list></list>
		</property>
		<property name="attributeTypeService" ref="attributeTypeService2" />
		<property name="objectTypeService" ref="objectTypeService2" />
	</bean>

	<!-- レイアウト情報保持オブジェクトタイプのサービス  -->
	<bean id="objectTypeLayoutService" class="jp.co.ctc_g.eim.app.form.business.service.impl.ObjectTypeLayoutServiceImpl">
		<property name="objectTypeService" ref="objectTypeService2"/>
		<property name="objectService" ref="formLayoutObjectService2"/>
		<property name="attributeTypeLayoutService" ref="attributeTypeLayoutService"/>
		<property name="attributeTypeService" ref="attributeTypeService2"/>
		<property name="nameSpaceListForNewCopyFlagUpdate">
			<list>
				<value>${NAMESPACE_FORM}</value>
			</list>
		</property>
	</bean>

	<!-- レイアウト情報保持ステータスタイプのサービス  -->
	<bean id="statusTypeLayoutService" class="jp.co.ctc_g.eim.app.form.business.service.impl.StatusTypeLayoutServiceImpl">
		<property name="statusTypeService" ref="statusTypeService2"/>
		<property name="objectService" ref="formLayoutObjectService2"/>
		<property name="objectTypeService" ref="objectTypeService2"/>
		<property name="attributeTypeLayoutService" ref="attributeTypeLayoutService"/>
		<property name="attributeTypeService" ref="attributeTypeService2"/>
	</bean>

	<!-- レイアウト情報保持属性タイプのサービス  -->
	<bean id="attributeTypeLayoutService" class="jp.co.ctc_g.eim.app.form.business.service.impl.AttributeTypeLayoutServiceImpl">
		<property name="attributeTypeService" ref="attributeTypeService2"/>
		<property name="objectService" ref="formLayoutObjectService2"/>
		<property name="objectTypeService" ref="formObjectTypeService2"/>
		<property name="codeTypeService" ref="codeTypeService2"/>
		<property name="searchMasterDisplayConfigService" ref="searchMasterDisplayConfigService"/>
		<property name="attributeTypeLayoutConfDao" ref="attributeTypeLayoutConfDao" />
	</bean>

	<!-- 階層レイアウトサービス -->
	<bean id="hierarchicalLayoutService" class="jp.co.ctc_g.eim.app.form.business.service.impl.HierarchicalLayoutServiceImpl" >
		<property name="attributeTypeLayoutConfDao" ref="attributeTypeLayoutConfDao" />
		<property name="objectTypeLayoutService" ref="objectTypeLayoutService" />
		<property name="workflowService" ref="workflowService2" />
	</bean>

	<!-- 表示列サービス -->
	<bean id="formListColumnService" class="jp.co.ctc_g.eim.app.form.business.service.impl.FormListColumnServiceImpl" >
		<property name="objectTypeService" ref="objectTypeService2" />
		<property name="objectService" ref="formObjectService2ForAttributeAll" />
		<property name="attributeTypeService" ref="attributeTypeService2" />
		<property name="attributeTypeLayoutService" ref="attributeTypeLayoutService"/>
	</bean>

	<!-- 帳票タイプフォルダサービス -->
	<bean id="formTypeFolderService" class="jp.co.ctc_g.eim.app.form.business.service.impl.FormTypeFolderServiceImpl">
		<property name="objectService" ref="objectService2"/>
		<property name="objectTypeService" ref="objectTypeService2" />
		<property name="attributeTypeService" ref="attributeTypeService2" />
		<property name="checkAccessRoleTypeForGetList" value="READ"/>
	</bean>

	<!-- 帳票添付ファイルサービス -->
	<bean id="formAttachedFileService" class="jp.co.ctc_g.eim.app.form.business.service.impl.FormAttachedFileServiceImpl">
		<property name="objectService" ref="objectService2"/>
		<property name="attributeTypeService" ref="attributeTypeService2" />
	</bean>

	<!-- ======================================================================================== -->
	<!-- プラグイン -->
	<!-- ======================================================================================== -->

	<!-- アサイン先予定設定（ベースイベントタイプ）プラグイン -->
	<bean id="setAssignmentPlanBaseEventTypePlugIn" class="jp.co.ctc_g.eim.app.form.business.plugin.impl.SetAssignmentPlanBaseEventTypePlugInImpl" parent="baseEventTypePlugIn2" >
		<property name="eventTypeService" ref="eventTypeService2"/>
		<property name="assignmentPlanService" ref="assignmentPlanService2"/>
		<property name="userService" ref="userService2"/>
		<property name="objectTypeService" ref="objectTypeService2"/>
		<property name="workflowService" ref="workflowService2"/>
		<property name="statusTypeService" ref="statusTypeService2"/>
	</bean>

	<!-- 取戻しアサイン先予定設定（ベースイベントタイプ）プラグイン -->
	<bean id="regainBaseEventTypePlugIn" class="jp.co.ctc_g.eim.app.form.business.plugin.impl.RegainBaseEventTypePluginImpl" parent="baseEventTypePlugIn2" />

	<!-- 依頼先ユーザ取得（ユーザ定義グループ）プラグイン -->
	<bean id="assignmentMailDestinationUserDefinitionGroupPlugIn" class="jp.co.ctc_g.eim.app.form.business.plugin.impl.AssignmentMailDestinationUserDefinitionGroupPlugInImpl" />

	<!-- 追加のメール通知先ユーザ取得（ユーザ定義グループ）プラグイン -->
	<bean id="optionalMailDestinationUserDefinitionGroupPlugIn" class="jp.co.ctc_g.eim.app.form.business.plugin.impl.OptionalMailDestinationUserDefinitionGroupPlugInImpl" />

	<!-- 作成者（ユーザ定義グループ）プラグイン -->
	<bean id="formCreationUserDefinitionGroupPlugIn" class="jp.co.ctc_g.eim.app.form.business.plugin.impl.FormCreationUserDefinitionGroupPlugInImpl" >
		<property name="objectService" ref="objectService2"/>
	</bean>

	<!-- 担当者（ユーザ定義グループ）プラグイン -->
	<bean id="responsibleUserDefinitionGroupPlugIn" class="jp.co.ctc_g.eim.app.form.business.plugin.impl.ResponsibleUserDefinitionGroupPlugInImpl">
		<property name="objectService" ref="objectService2"/>
		<property name="statusService" ref="statusService2"/>
		<property name="userService" ref="userService2"/>
		<property name="assignmentService" ref="assignmentService2"/>
	</bean>

	<!-- 任意ユーザ属性（ユーザ定義グループ）プラグイン -->
	<bean id="userAttributeUserDefinitionGroupPlugIn" class="jp.co.ctc_g.eim.app.form.business.plugin.impl.UserAttributeUserDefinitionGroupPlugInImpl">
		<property name="objectService" ref="objectService2"/>
		<property name="userService" ref="userService2"/>
		<property name="attributeTypeService" ref="attributeTypeService2"/>
		<property name="attributeTypeDefinitionName">
			<value>app.form.user:テスト属性タイプ</value>
		</property>
	</bean>

	<!-- 選択したイベントタイプ（ガード条件） -->
	<bean id="guardCndSelectEventTypePlugIn" class="jp.co.ctc_g.eim.app.form.business.plugin.impl.GuardCndSelectEventTypePlugInImpl">
	</bean>

	<!-- 帳票コンポーネント用メールタイププラグイン -->
	<bean id="formMailTypePlugIn" class="jp.co.ctc_g.eim.framework2.business.plugin.impl.DefaultMailTypePlugInImpl" >
		<property name="userDefineEntryToList">
			<list>
				<ref bean="assignmentMailDestinationUserDefinitionGroupPlugIn" />
				<ref bean="optionalMailDestinationUserDefinitionGroupPlugIn" />
			</list>
		</property>
		<property name="userDefineEntryCcList">
			<list/>
		</property>
		<property name="userDefineEntryBccList">
			<list/>
		</property>
		<property name="userDao" ref="userDaoLight2" />
		<property name="mailMessage" ref="formMailMessagePlugIn2" />
	</bean>

	<!-- 帳票コンポーネント用メールメッセージプラグイン -->
	<bean id="formMailMessagePlugIn2" class="jp.co.ctc_g.eim.framework2.business.plugin.impl.DefaultMailMessagePlugInImpl" >
		<property name="mailBodyList">
			<list>
				<ref bean="mailHeaderBodyElementPlugIn"/>
				<ref bean="mailBodyForFormIDElementPlugIn"/>
				<ref bean="mailBodyForWorkspaceAndTypeElementPlugIn"/>
				<ref bean="mailBodyForFormTitleElementPlugIn"/>
				<ref bean="mailBodyForClientElementPlugIn"/>
				<ref bean="mailBodyForEventElementPlugIn"/>
				<ref bean="mailBodyForEventCreationDateElementPlugIn"/>
				<ref bean="mailBodyForCommentElementPlugIn"/>
				<ref bean="mailBodyForURLElementPlugIn"/>
			</list>
		</property>
		<property name="mailTitle" ref="mailTitleElementPlugIn" />
	</bean>

	<!-- 帳票コンポーネント用メールメッセージプラグイン -->
	<bean id="customFormMailMessagePlugIn" class="jp.co.ctc_g.eim.app.form.business.plugin.impl.CustomFormMailMessagePlugInImpl" >
		<!-- メールの本文に表示する属性の最大数を指定してください -->
		<property name="mailBodyMaxSize" value="20" />
		<!-- メールのString型,Text型の最大文字数を指定してください -->
		<property name="textMaxSize" value="512" />
		<property name="objectService" ref="objectService2"/>
		<property name="attributeTypeService" ref="attributeTypeService2"/>
		<property name="objectTypeService" ref="objectTypeService2"/>
		<property name="userService" ref="userService2"/>
		<property name="codeService" ref="codeService2"/>
		<property name="eventService" ref="eventService2"/>
		<property name="templateURL">
			<null/>
		</property>
		<property name="queryString1">
			<value>/?objectId=</value>
		</property>
		<property name="mailBodyList">
			<list>
				<ref bean="mailHeaderBodyElementPlugIn"/>
				<ref bean="mailBodyForFormIDElementPlugIn"/>
				<ref bean="mailBodyForWorkspaceAndTypeElementPlugIn"/>
				<ref bean="mailBodyForFormTitleElementPlugIn"/>
				<ref bean="mailBodyForClientElementPlugIn"/>
				<ref bean="mailBodyForEventElementPlugIn"/>
				<ref bean="mailBodyForEventCreationDateElementPlugIn"/>
				<ref bean="mailBodyForCommentElementPlugIn"/>
				<ref bean="mailBodyForURLElementPlugIn"/>
			</list>
		</property>
		<property name="mailTitle" ref="mailTitleElementPlugIn" />
	</bean>

	<!-- 帳票コンポーネント用共通メールタイトル -->
	<bean id="mailTitleElementPlugIn" class="jp.co.ctc_g.eim.framework2.business.plugin.impl.DefaultMailElementPlugInImpl" >
		<property name="key" value="EIM.FORM.MAIL.TITLE" />
	</bean>

	<!-- 帳票コンポーネント用共通メール本文1(ヘッダ) -->
	<bean id="mailHeaderBodyElementPlugIn" class="jp.co.ctc_g.eim.framework2.business.plugin.impl.DefaultMailElementPlugInImpl" >
		<property name="key" value="EIM.FORM.MAIL.HEADER.BODY" />
	</bean>

	<!-- 帳票コンポーネント用共通メール本文2(ID) -->
	<bean id="mailBodyForFormIDElementPlugIn" class="jp.co.ctc_g.eim.app.form.business.plugin.impl.FormIDMailElementPlugInImpl" >
		<property name="key" value="EIM.FORM.MAIL.BODY.FORM.ID" />
	</bean>

	<!-- 帳票コンポーネント用共通メール本文3(ワークスペース/タイプ/フォルダ) -->
	<bean id="mailBodyForWorkspaceAndTypeElementPlugIn" class="jp.co.ctc_g.eim.app.form.business.plugin.impl.FormWorkspaceAndTypeMailElementPlugInImpl" >
		<property name="key" value="EIM.FORM.MAIL.BODY.FORM.WORKSPACE.TYPE" />
		<property name="objectService" ref="objectService2"/>
		<property name="languageService" ref="languageService2"/>
	</bean>

	<!-- 帳票コンポーネント用共通メール本文4(タイトル) -->
	<bean id="mailBodyForFormTitleElementPlugIn" class="jp.co.ctc_g.eim.app.form.business.plugin.impl.FormTitleMailElementPlugInImpl" >
		<property name="key" value="EIM.FORM.MAIL.BODY.FORM.TITLE" />
	</bean>

	<!-- 帳票コンポーネント用共通メール本文5(依頼者) -->
	<bean id="mailBodyForClientElementPlugIn" class="jp.co.ctc_g.eim.app.form.business.plugin.impl.ClientMailElementPlugInImpl" >
		<property name="key" value="EIM.FORM.MAIL.BODY.CLIENT" />
	</bean>

	<!-- 帳票コンポーネント用共通メール本文6(処理名称) -->
	<bean id="mailBodyForEventElementPlugIn" class="jp.co.ctc_g.eim.app.form.business.plugin.impl.EventMailElementPlugInImpl" parent="abstractMailBodyForEventElementPlugIn" >
		<property name="key" value="EIM.FORM.MAIL.BODY.EVENT" />
	</bean>

	<!-- 帳票コンポーネント用共通メール本文7(処理日時) -->
	<bean id="mailBodyForEventCreationDateElementPlugIn" class="jp.co.ctc_g.eim.app.form.business.plugin.impl.EventCreationDateMailElementPlugInImpl" parent="abstractMailBodyForEventElementPlugIn" >
		<property name="key" value="EIM.FORM.MAIL.BODY.EVENT.CREATION.DATE" />
	</bean>

	<!-- 帳票コンポーネント用共通メール本文8(コメント) -->
	<bean id="mailBodyForCommentElementPlugIn" class="jp.co.ctc_g.eim.app.form.business.plugin.impl.CommentMailElementPlugInImpl" >
		<property name="key" value="EIM.FORM.MAIL.BODY.COMMENT" />
	</bean>

	<!-- 帳票コンポーネント用共通メール本文9(URL) -->
	<bean id="mailBodyForURLElementPlugIn" class="jp.co.ctc_g.eim.app.form.business.plugin.impl.FormURLMailElementPlugInImpl" >
		<property name="key" value="EIM.FORM.MAIL.BODY.FORM.URL" />
		<property name="templateURL">
			<null/>
		</property>
		<property name="queryString1">
			<value>/?objectId=</value>
		</property>
	</bean>

	<!-- 帳票コンポーネント用共通メール抽象親クラス(6, 7) -->
	<bean id="abstractMailBodyForEventElementPlugIn" class="jp.co.ctc_g.eim.app.form.business.plugin.impl.EventCreationDateMailElementPlugInImpl" abstract="true" >
		<property name="eventService" ref="formEventService2" />
	</bean>

</beans>